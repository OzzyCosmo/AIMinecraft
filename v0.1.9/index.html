<!DOCTYPE html>
<!-- Version: v0.1.9 -->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Three.js Voxel Sandbox</title>
  <style>
    body { margin:0; overflow:hidden; background:#000; color:#fff; font-family:'Segoe UI', Tahoma, sans-serif; }
    canvas { display:block; }
    .overlay { position:fixed; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center; background:rgba(0,0,0,0.82); color:#fff; text-align:center; padding:2rem; gap:1rem; z-index:10; }
    .overlay h1 { font-size:2.5rem; margin:0; }
    .overlay p { max-width:460px; line-height:1.5; margin:0; opacity:0.85; }
    .overlay button { margin-top:1rem; padding:0.9rem 2.4rem; font-size:1.1rem; border:none; border-radius:0.75rem; background:#4aa84a; color:#fff; cursor:pointer; box-shadow:0 0 18px rgba(0,0,0,0.45); transition:background 0.15s ease; }
    .overlay button:hover { background:#5cc55c; }
    #crosshair { position:fixed; top:50%; left:50%; transform:translate(-50%, -50%); width:10px; height:10px; border:2px solid rgba(255,255,255,0.85); border-radius:50%; pointer-events:none; z-index:4; box-shadow:0 0 6px rgba(0,0,0,0.85); }
    .hud { position:fixed; inset:0; pointer-events:none; z-index:5; color:#fff; text-shadow:0 0 4px rgba(0,0,0,0.8); transition:opacity 0.2s ease; }
    .hud.hidden { opacity:0.25; }
    #message { pointer-events:none; text-align:center; margin-top:16px; font-size:14px; }
    #fps { position:fixed; top:10px; left:10px; font-size:12px; background:rgba(0,0,0,0.45); padding:6px 10px; border-radius:6px; pointer-events:none; }
    #renderToggle { position:fixed; bottom:110px; left:12px; pointer-events:auto; font-size:12px; padding:6px 12px; border-radius:6px; border:1px solid rgba(255,255,255,0.25); background:rgba(0,0,0,0.45); color:#fff; cursor:pointer; transition:background 0.15s ease; }
    #renderToggle:hover { background:rgba(0,0,0,0.65); }
    .settings-button { position:absolute; top:18px; right:18px; width:42px; height:42px; margin:0; padding:0; border-radius:21px; border:1px solid rgba(255,255,255,0.2); background:rgba(0,0,0,0.45); color:#fff; display:flex; align-items:center; justify-content:center; cursor:pointer; box-shadow:none; transition:background 0.15s ease, border-color 0.15s ease; }
    .settings-button:hover { background:rgba(0,0,0,0.65); border-color:rgba(255,255,255,0.35); }
    .settings-button svg { width:22px; height:22px; display:block; stroke: currentColor; fill: none; }
    #settingsPanel { position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,0.7); z-index:12; padding:24px; }
    #settingsPanel.open { display:flex; }
    .settings-card { background:rgba(12,12,12,0.9); border:1px solid rgba(255,255,255,0.12); border-radius:14px; padding:24px; width:min(360px, 90vw); display:flex; flex-direction:column; gap:18px; box-shadow:0 22px 48px rgba(0,0,0,0.55); }
    .settings-header { display:flex; align-items:center; justify-content:space-between; gap:16px; }
    .settings-header h2 { margin:0; font-size:1.4rem; }
    .settings-close { background:none; border:none; color:rgba(255,255,255,0.7); font-size:0.9rem; cursor:pointer; padding:4px 0; }
    .settings-close:hover { color:#fff; text-decoration:underline; }
    .settings-card label { font-size:0.9rem; margin-bottom:4px; display:block; color:rgba(255,255,255,0.85); }
    .settings-input-row { display:flex; gap:10px; align-items:center; }
    .settings-input-row input { flex:1; padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.2); background:rgba(0,0,0,0.45); color:#fff; font-size:0.95rem; }
    .settings-input-row input:focus { outline:none; border-color:rgba(90,160,255,0.9); box-shadow:0 0 0 2px rgba(90,160,255,0.3); }
    .settings-input-row button { padding:8px 16px; border-radius:8px; border:none; background:#4aa84a; color:#fff; font-size:0.95rem; cursor:pointer; transition:background 0.15s ease; }
    .settings-input-row button:hover { background:#5cc55c; }
    .settings-select { width:100%; padding:8px 10px; border-radius:8px; border:1px solid rgba(255,255,255,0.2); background:rgba(0,0,0,0.45); color:#fff; font-size:0.95rem; cursor:pointer; }
    .settings-select:focus { outline:none; border-color:rgba(90,160,255,0.9); box-shadow:0 0 0 2px rgba(90,160,255,0.3); }
    .settings-hint { margin:0; font-size:0.8rem; color:rgba(255,255,255,0.6); }
    .settings-option { display:flex; flex-direction:column; gap:8px; }
    .settings-checkbox { display:flex; align-items:center; gap:10px; font-size:0.95rem; cursor:pointer; color:rgba(255,255,255,0.85); }
    .settings-checkbox input { width:18px; height:18px; accent-color:#4aa84a; cursor:pointer; }
    .settings-slider-row { display:flex; align-items:center; gap:10px; }
    .settings-slider-row input[type=range] { flex:1; accent-color:#4aa84a; }
    .settings-value { min-width:3.4em; text-align:right; font-size:0.85rem; color:rgba(255,255,255,0.7); }
    .settings-value.disabled { color:rgba(255,255,255,0.35); }
    #hotbar { position:fixed; bottom:32px; left:50%; transform:translateX(-50%); display:flex; gap:6px; padding:10px 14px; background:rgba(0,0,0,0.45); border-radius:14px; pointer-events:auto; }
    .hotbar-slot { width:54px; height:54px; border:2px solid rgba(255,255,255,0.25); border-radius:10px; display:flex; align-items:center; justify-content:center; position:relative; color:#fff; font-size:11px; text-align:center; line-height:1.2; box-shadow:0 0 0 rgba(0,0,0,0); transition:border-color 0.15s ease, box-shadow 0.15s ease, transform 0.15s ease; cursor:pointer; }
    .hotbar-slot .label { padding:4px; text-shadow:0 0 4px rgba(0,0,0,0.7); }
    .hotbar-slot .index { position:absolute; top:4px; left:6px; font-size:10px; opacity:0.85; }
    .hotbar-slot.selected { border-color:#fff; box-shadow:0 0 12px rgba(255,255,255,0.7); transform:translateY(-2px); }
    .hotbar-slot:hover { border-color:rgba(255,255,255,0.6); }
    button, .hotbar-slot { font-family:inherit; }
    @media (max-width: 700px) { .overlay h1 { font-size:2rem; } .overlay p { font-size:0.95rem; } #hotbar { transform:translate(-50%, 0) scale(0.85); } }
  </style>
</head>
<body>
  <div id="overlay" class="overlay">
    <button id="settingsButton" class="settings-button" type="button" aria-label="Open settings">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
        <path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z" />
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
      </svg>
    </button>
    <h1>Voxel Sandbox</h1>
    <p>Click Start to capture the mouse and load the world. Use WASD to move, the mouse to look, and Space to jump. Hold left click to break blocks, right click places the selected block. Press Esc to release the pointer and use the cog to adjust settings.</p>
    <button id="startButton">Start</button>
  </div>
  <div id="settingsPanel">
    <div class="settings-card">
      <div class="settings-header">
        <h2>Settings</h2>
        <button id="settingsClose" class="settings-close" type="button">Close</button>
      </div>
      <div>
        <label for="renderDistanceInput">Render distance</label>
        <div class="settings-input-row">
          <input id="renderDistanceInput" type="number" min="1" step="1" inputmode="numeric">
          <button id="renderDistanceApply" type="button">Apply</button>
        </div>
        <p class="settings-hint">Higher values load more chunks and can impact performance.</p>
      </div>
      <div class="settings-option">
        <label class="settings-checkbox">
          <input id="aoToggle" type="checkbox" checked>
          Ambient Occlusion
        </label>
      </div>
      <div class="settings-option">
        <label for="aoStrengthInput">AO Strength</label>
        <div class="settings-slider-row">
          <input id="aoStrengthInput" type="range" min="0" max="1.5" step="0.05" value="1.5">
          <span id="aoStrengthValue" class="settings-value">1.50</span>
        </div>
      </div>
      <div class="settings-option">
        <label class="settings-checkbox">
          <input id="cloudToggle" type="checkbox" checked>
          Volumetric Clouds
        </label>
      </div>
      <div class="settings-option">
        <label for="cloudQuality">Cloud Quality</label>
        <select id="cloudQuality" class="settings-select">
          <option value="low">Low</option>
          <option value="medium" selected>Medium</option>
          <option value="high">High</option>
        </select>
      </div>
      <div class="settings-option">
        <label for="cloudCoverage">Cloud Coverage</label>
        <div class="settings-slider-row">
          <input id="cloudCoverage" type="range" min="0" max="1" step="0.01" value="0.45">
          <span id="cloudCoverageValue" class="settings-value">0.45</span>
        </div>
      </div>
      <div class="settings-option">
        <label for="cloudDensity">Cloud Density</label>
        <div class="settings-slider-row">
          <input id="cloudDensity" type="range" min="0" max="1.5" step="0.01" value="0.60">
          <span id="cloudDensityValue" class="settings-value">0.60</span>
        </div>
      </div>
      <div class="settings-option">
        <label for="cloudWind">Wind Speed</label>
        <div class="settings-slider-row">
          <input id="cloudWind" type="range" min="0" max="12" step="0.1" value="4.0">
          <span id="cloudWindValue" class="settings-value">4.0</span>
        </div>
      </div>
    </div>
  </div>
  <div id="crosshair"></div>
  <div id="hud" class="hud">
    <div id="message">WASD move - Space jump/ascend - Ctrl descend (flight) - Hold left click to break - Right click to place - 1-9 select - N toggles flight - E toggles HUD</div>
    <div id="fps">FPS: --</div>
    <button id="renderToggle">Render Distance: 3</button>
    <div id="hotbar"></div>
  </div>

  <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
  <script type="module" src="./scripts/main.js"></script>
</body>
</html>

